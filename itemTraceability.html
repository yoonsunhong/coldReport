<!DOCTYPE html>
<html lang="ko">
 <head>
  <meta charset="utf-8">
  <title> Analysis | Item Traceability </title>
  <link rel="stylesheet" href="css/common.css">
  <link rel="stylesheet" href="css/sub.css">
  <link href="js/jqGrid/ui.jqgrid.css" rel="stylesheet">
  <link href="js/jqGrid/jquery-ui-1.10.3.custom.css" rel="stylesheet">
  <link href="js/jqGrid/jquery-ui.min.css" rel="stylesheet">
  <!--[if lt IE 9]>
	<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
	<script src="js/jqGrid/jquery-1.7.1.min.js"></script>
	<script src="js/jqGrid/json3.min.js"></script>
    <script src="js/jqGrid/jquery.jqGrid.src.js"></script>
    <script src="js/jqGrid/grid.locale-kr.js"></script>
    <script src="js/jqGrid/common.js"></script>
    <script src="js/jqGrid/rtComm.js"></script>
    <script src="js/common.js" type="text/javascript"></script>
    <script src="js/jquery.treeview.js" type="text/javascript"></script>
	<script src="js/jquery-ui.js" type="text/javascript"></script>
   <script type="text/javascript" src="https://maps.google.com/maps/api/js?v=3.exp&region=KR"></script>
   <script>
    //구글맵 지도 사용하기 함수선언
	function initialize(X_point, Y_point, target) {
		var zoomLevel = 16; // 지도의 확대 레벨 : 숫자가 클수록 확대정도가 큼

		var markerTitle = "성남시의회";		//마우스 오버시 툴팁으로 보여짐
		var markerMaxWidth = 250;

		var contentString = "<h2>성남시의회</h2>"			//위치를 클릭하면 보여지는 상세 설명
				+ "<p>경기도 성남시 중원구 여수동 200</p>";

		var myLatlng = new google.maps.LatLng(Y_point, X_point);
		var mapOptions = {
			zoom : zoomLevel,
			center : myLatlng,
			mapTypeId : google.maps.MapTypeId.ROADMAP
		}
		var map = new google.maps.Map(document.getElementById(target),
				mapOptions);

		var marker = new google.maps.Marker({
			position : myLatlng,
			map : map,
			title : markerTitle
		});

		var infowindow = new google.maps.InfoWindow({
			content : contentString,
			maxWidth : markerMaxWidth
		});

		google.maps.event.addListener(marker, "click", function() {
			infowindow.open(map, marker);
		});
	}

	$(document).ready(function() {
		initialize(127.1258009, 37.4196954, "map");	//위도와 경도를 복사해서 설정
	});
		$(function(){
			$("#skip").load("include/skip.html"); 
			$("#header").load("include/header.html"); 
			$("#footer").load("include/footer.html"); 
		});
		$(function() {
			$("#tabTree1").treeview({
				collapsed: true,
				animated: "medium",
				control:"#sidetreecontrol",
				persist: "location"
			});
		});
		$(function() {
			$( ".date" ).datepicker({
				showOn: "button",								// 버튼과 텍스트 필드 또는 모두 캘린더에 표시할지에 대한 여부 선택, both/button,text
				buttonImage: "images/sub/date_icon.png",	// image 경로 지정, 버튼 이미지 선택
				buttonImageOnly: true,							// 버튼에 있는 이미지만 표시, true/false
				buttonText: "Select date",						
				changeMonth: true,								// 월을 바꿀 수 있는 select 박스 표시, true/false
				changeYear: true,									// 년을 바꿀 수 있는 select 박스 표시, true/false
				nextText: '다음달',								// next 아이콘의 title 설정
				prevText: '이전달',								// prev 아이콘의 title 설정
				showButtonPanel: true,						// 캘린더 하단에 (today,done) 버튼 패널 표시 여부 선택
				closeText: '닫기',									// close 버튼의 text 선택
				dateFormat: 'yy-mm-dd',						// 표시할 날짜 형식 선택
				dayNames: ['월요일', '화요일', '수요일', '목요일', '금요일', '토요일', '일요일'],			// 표시할 요일 이름
				dayNamesMin: ['월', '화', '수', '목', '금', '토', '일'],											// 표시할 요일 약자 이름
				monthNames: ['1월','2월','3월','4월','5월','6월','7월','8월','9월','10월','11월','12월']	,	// 표시할 달 이름
				monthNamesShort: ['1','2','3','4','5','6','7','8','9','10','11','12'],								// 표시할 달 약자 이름
			}); 
		});
			$(document).ready(function () {
				jQuery("#grid1").jqGrid({ 
					colNames: ['설명' , '센서 아이디' , '온도' , '습도' , 'CO2' , '수온' , '광량' , 'PH', 'EC'],
					colModel: [
						  { name: 'CD', align: 'center'},
						  { name: 'SENSOR_ID', align: 'center'},
						  { name: 'TEMPERATURE', align : 'center' },
						  { name: 'HUMIDITY', align : 'center' },
						  { name: 'CO2', align : 'center' },
						  { name: 'WATER_TEMPERATURE' },
						  { name: 'LIGHT', align : 'center' },
						  { name: 'PH', align: 'center' },
						  { name: 'EC', align : 'center' },
					],
					rowNum: 10,							// 한 페이지에 보여줄 데이터 갯수
					rowList: [5, 10, 20, 50],			// 한 화면에서 볼 수 있는 row의 수를 조절 가능
					multiselect: true,					// 멀티 셀렉트 박스가 첫번째 컬럼에 생김
				});
				var mydata = [
					{CD:'풀무원',SENSOR_ID:'홍길동',TEMPERATURE:'190-22-34564',HUMIDITY:'010-1232-3456',CO2:'김춘자',WATER_TEMPERATURE:'차장',LIGHT:'010-3245-2323',PH:'green@naver.com',EC:'11'},
				]

				for(var i=0;i<=mydata.length;i++)	// 스크립트 변수에 담겨 있는 json 데이터의 길이만큼
					jQuery("#grid1").jqGrid('addRowData',i+1,mydata[i]);		// jqgrid의 addRowData를 이용하여 각각의 row에 gridData 변수의 데이터를 add한다
				
				reSizefn();

				jQuery("#grid2").jqGrid({
					colNames: ['설명' , '센서 아이디' , '온도' , '습도' , 'CO2' , '수온' , '광량' , 'PH', 'EC'],
					colModel: [
						  { name: 'CD', align: 'center'},
						  { name: 'SENSOR_ID', align: 'center'},
						  { name: 'TEMPERATURE', align : 'center' },
						  { name: 'HUMIDITY', align : 'center' },
						  { name: 'CO2', align : 'center' },
						  { name: 'WATER_TEMPERATURE' },
						  { name: 'LIGHT', align : 'center' },
						  { name: 'PH', align: 'center' },
						  { name: 'EC', align : 'center' },
					],
					rowNum: 10,							// 한 페이지에 보여줄 데이터 갯수
					rowList: [5, 10, 20, 50],			// 한 화면에서 볼 수 있는 row의 수를 조절 가능
					multiselect: true,					// 멀티 셀렉트 박스가 첫번째 컬럼에 생김
				});
				var mydata = [
					{CD:'풀무원',SENSOR_ID:'홍길동',TEMPERATURE:'190-22-34564',HUMIDITY:'010-1232-3456',CO2:'김춘자',WATER_TEMPERATURE:'차장',LIGHT:'010-3245-2323',PH:'green@naver.com',EC:'11'},
				]

				for(var i=0;i<=mydata.length;i++)	// 스크립트 변수에 담겨 있는 json 데이터의 길이만큼
					jQuery("#grid2").jqGrid('addRowData',i+1,mydata[i]);		// jqgrid의 addRowData를 이용하여 각각의 row에 gridData 변수의 데이터를 add한다

				reSizefn();

				jQuery("#grid3").jqGrid({
					colNames: ['설명' , '센서 아이디' , '온도' , '습도' , 'CO2' , '수온' , '광량' , 'PH', 'EC'],
					colModel: [
						  { name: 'CD', align: 'center'},
						  { name: 'SENSOR_ID', align: 'center'},
						  { name: 'TEMPERATURE', align : 'center' },
						  { name: 'HUMIDITY', align : 'center' },
						  { name: 'CO2', align : 'center' },
						  { name: 'WATER_TEMPERATURE' },
						  { name: 'LIGHT', align : 'center' },
						  { name: 'PH', align: 'center' },
						  { name: 'EC', align : 'center' },
					],
					rowNum: 10,							// 한 페이지에 보여줄 데이터 갯수
					rowList: [5, 10, 20, 50],			// 한 화면에서 볼 수 있는 row의 수를 조절 가능
					multiselect: true,					// 멀티 셀렉트 박스가 첫번째 컬럼에 생김
				});
				var mydata = [
					{CD:'풀무원',SENSOR_ID:'홍길동',TEMPERATURE:'190-22-34564',HUMIDITY:'010-1232-3456',CO2:'김춘자',WATER_TEMPERATURE:'차장',LIGHT:'010-3245-2323',PH:'green@naver.com',EC:'11'},
				]

				for(var i=0;i<=mydata.length;i++)	// 스크립트 변수에 담겨 있는 json 데이터의 길이만큼
					jQuery("#grid3").jqGrid('addRowData',i+1,mydata[i]);		// jqgrid의 addRowData를 이용하여 각각의 row에 gridData 변수의 데이터를 add한다

				reSizefn();

			});
			
			function reSizefn() {
				//그리드1 사이즈 
				$(window).resize(function () {
					var grid1 = $("#grid1");
					var grid2 = $("#grid2");
					var grid3 = $("#grid3");

					var gridCnt = $(".grid_area > div");
					var width = $(".grid_area").width()-2;
					var height1 = $(window).height() - 968;
					var height2 = $(window).height() - 872;
					
					if ( height1 <= 287 ) {
						height1 = 287;
					}

					if ( height2 <= 115  ) {
						height2 = 115;
						height3 = 115;
					}
					
					grid1.setGridWidth(width,true);
					grid2.setGridWidth(width,true);
					grid3.setGridWidth(width,true);
					grid1.setGridHeight(height1, true);
					grid2.setGridHeight(height2, true);
					grid3.setGridHeight(height2, true);
					gridCnt.width(width+2);
				}).resize();       
			}
   </script>   
   </head>
<body>
    <!-- ========= skip =========== -->
	<div id="skip"></div>
    <!-- ========= //skip =========== -->
    <!-- ========= header =========== -->
	<header id="header"></header>
    <!-- ========= //header =========== -->   
    <!-- ========= content ========= -->
	<section id="content">
		<div id="wrap">
			<div class="tit">
				<h2 class="sub_tit">Item Traceability</h2>
				<ul class="location">
					<li>Analysis</li>
					<li>Item Traceability</li>
				</ul>
			</div>
			<div class="frame4_cnt clear">
				<div class="ban_l">
					<div class="tree_area">
						<h3 class="tit_bg">Location Explor</h3>
						<div>
							<ul id="tabTree1" class="tree_cnt location_tree">
								<li>
									<a href="#">Root</a>
									<ul>
										<li>
											<a href="#">그린트리플러스</a>
											<ul>
												<li><a href="#">이천농장</a></li> 
											</ul>
										</li>
										<li>
											<a href="#">리테일테크</a>
											<ul>
												<li><a href="#">본사사옥</a></li>
											</ul>
										</li>
									</ul>
								</li>
							</ul>
						</div>
					</div>
					<button type="button" class="btn_fold close_btn" onclick="fordingLeft();"></button>
				</div>
				<div class="cnt_r">
					<div class="sub_cnt cnt35">
						<div>
							<div>
								<button class="btn_type btn_type1">조회</button>
							</div>
							<div class="search_area">
								<form action="" method="post">
									<label for="baseName">· 거점명</label><input type="text" id="baseName" disabled>
									<span>· 조회일</span><label for="inquiryStart1" class="blind">조회시작일</label><input type="text" id="inquiryStart1" class="date">~<label for="inquiryEnd1" class="blind">조회종료일</label><input type="text" id="inquiryEnd1" class="date">
								</form>
							</div>
							<div class="loc_area">
								<div class="list1 f_l">
									<h3 class="menu_tit">Item List</h3>
									<div class="grid_area">
										<table id="grid1" ></table>    
									</div>
								</div>
								<div class="list2 f_l">
									<div class="grid1">
										<h3 class="menu_tit">Item Temp/Humi Log</h3>
										<div class="grid_area">
											<table id="grid2" ></table>    
										</div>
									</div>
									<div class="grid2">
										<h3 class="menu_tit">Status Summary</h3>
										<div class="grid_area">
											<table id="grid3" ></table>    
										</div>
									</div>
								</div>
								<div class="map_area f_r" id="map"></div>
							</div>
						</div>					
					</div>
					<div class="graph">
						<h3 class="graph_tit tit_bg">Chart Explorer</h3>
						<div class="graph_area">
							<div class="graph_data clear">
								<div class="graph_info f_l">
									<h4 class="graph_name f_l">UB센터1</h4>
									· 조회일<label for="inquiryStart" class="blind">조회시작일</label><input type="text" id="inquiryStart2" class="date">~<label for="inquiryEnd2" class="blind">조회종료일</label><input type="text" id="inquiryEnd" class="date">
									<label for="senserType">· 센서종류</label>
									<select name="senserType" id="senserType">
										<option value="선택">:: 선택하세요</option>
										<option value="Temperature">Temperature</option>
										<option value="Humidity">Humidity</option>
										<option value="CO2">CO2</option>
										<option value="WaterTemperature">WaterTemperature</option>
										<option value="Light">Light</option>
										<option value="PH">PH</option>
										<option value="EC">EC</option>
									</select>
									<label for="sensorCircle">· 센서 주기</label>
									<select name="sensorCircle" id="sensorCircle">
										<option value="선택">:: 선택하세요</option>
										<option value="1시간">1시간</option>
										<option value="2시간">2시간</option>
										<option value="3시간">3시간</option>
									</select>
								</div>
								<button class="btn_type btn_type1 f_r">조회</button>
							</div>
							<div class="graph_cnt">
								<div>
									<!-- 그래프 영역 -->
								</div>
							</div>
						</div>
					</div>	
				</div>
			</div>	
		</div>
	</section>
    <!-- ========= //content ========= -->
    <!-- =========footer=========== -->
    <footer id="footer"></footer>
    <!-- =========//footer=========== -->
</body>
</html>